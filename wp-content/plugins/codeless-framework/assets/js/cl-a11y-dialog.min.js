!function(e){"use strict";function t(e){var t=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];return n(t.join(","),e).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})}function n(e,t){return Array.prototype.slice.call((t||document).querySelectorAll(e))}function i(e,n){var i=t(e),o=i.indexOf(document.activeElement);n.shiftKey&&0===o?(i[i.length-1].focus(),n.preventDefault()):n.shiftKey||o!==i.length-1||(i[0].focus(),n.preventDefault())}function o(e){var n=t(e);n.length&&n[0].focus()}var d,r=function(e,t){function r(t){f.shown&&!e.contains(t.target)&&o(e)}function c(){f.shown=!0,e.removeAttribute("aria-hidden"),t.setAttribute("aria-hidden","true"),d=document.activeElement,o(e),document.body.addEventListener("focus",r,!0)}function u(){f.shown=!1,e.setAttribute("aria-hidden","true"),t.removeAttribute("aria-hidden"),d&&d.focus(),document.body.removeEventListener("focus",r,!0)}var a="data-a11y-dialog",f=this;t=t||document.querySelector("#main"),this.shown=!1,this.show=c,this.hide=u,n("["+a+'-show="'+e.id+'"]').forEach(function(e){e.addEventListener("click",c)}),n("["+a+"-hide]",e).concat(n("["+a+'-hide="'+e.id+'"]')).forEach(function(e){e.addEventListener("click",u)}),document.addEventListener("keydown",function(t){f.shown&&27===t.which&&(t.preventDefault(),u()),f.shown&&9===t.which&&i(e,t)})};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define("A11yDialog",[],function(){return r}):"object"==typeof e&&(e.A11yDialog=r)}(window);